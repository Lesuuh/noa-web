// Fetch completed for analytics
const completedAttempts = await supabase
  .from("exam_attempts")
  .select("*")
  .eq("user_id", userId)
  .eq("status", "completed")
  .order("started_at", { ascending: false });

// Optionally fetch in-progress to show a "Resume Exam" button
const inProgressAttempt = await supabase
  .from("exam_attempts")
  .select("*")
  .eq("user_id", userId)
  .eq("status", "in_progress")
  .order("started_at", { ascending: false })
  .limit(1)
  .single();

// Then in your UI:
{inProgressAttempt && (
  <div className="bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-6">
    <p className="text-amber-400">You have an exam in progress</p>
    <Button onClick={() => navigate('/exam')}>Resume Exam</Button>s
  </div>
)}




add freemium
free users should see only 50 questions
freemium users should see all questions